"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[8280],{1988:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-1-the-robotic-nervous-system/lesson-1-introduction-to-ros2","title":"Lesson 1 - Introduction to ROS 2","description":"Understanding the middleware architecture of ROS 2 for robot control","source":"@site/docs/module-1-the-robotic-nervous-system/lesson-1-introduction-to-ros2.md","sourceDirName":"module-1-the-robotic-nervous-system","slug":"/module-1-the-robotic-nervous-system/lesson-1-introduction-to-ros2","permalink":"/docs/module-1-the-robotic-nervous-system/lesson-1-introduction-to-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai/humanoid-robotics-book/docs/module-1-the-robotic-nervous-system/lesson-1-introduction-to-ros2.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Lesson 1 - Introduction to ROS 2","sidebar_position":2,"description":"Understanding the middleware architecture of ROS 2 for robot control","learning_objectives":["Explain the concept of middleware in robotics","Describe the architecture of ROS 2","Identify the key components of a ROS 2 system","Understand the differences between ROS 1 and ROS 2"],"duration":120},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to Module 1 - The Robotic Nervous System (ROS 2)","permalink":"/docs/module-1-the-robotic-nervous-system/intro"},"next":{"title":"Lesson 2 - ROS 2 Nodes, Topics, and Services","permalink":"/docs/module-1-the-robotic-nervous-system/lesson-2-nodes-topics-services"}}');var i=r(4848),o=r(8453);const t={title:"Lesson 1 - Introduction to ROS 2",sidebar_position:2,description:"Understanding the middleware architecture of ROS 2 for robot control",learning_objectives:["Explain the concept of middleware in robotics","Describe the architecture of ROS 2","Identify the key components of a ROS 2 system","Understand the differences between ROS 1 and ROS 2"],duration:120},c="Lesson 1 - Introduction to ROS 2",l={},a=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"The Need for Middleware in Robotics",id:"the-need-for-middleware-in-robotics",level:2},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Key Features of ROS 2",id:"key-features-of-ros-2",level:2},{value:"Hands-On Exercise",id:"hands-on-exercise",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Self-Assessment",id:"self-assessment",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"lesson-1---introduction-to-ros-2",children:"Lesson 1 - Introduction to ROS 2"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"After completing this lesson, you will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Explain the concept of middleware in robotics"}),"\n",(0,i.jsx)(n.li,{children:"Describe the architecture of ROS 2"}),"\n",(0,i.jsx)(n.li,{children:"Identify the key components of a ROS 2 system"}),"\n",(0,i.jsx)(n.li,{children:"Understand the differences between ROS 1 and ROS 2"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"The Robot Operating System (ROS) is not an operating system but rather a middleware framework that provides services designed for a heterogeneous computer cluster. It includes hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more. ROS 2 is the next generation of ROS, designed to address requirements for commercial robotics applications including real-time support, security, and deployment on resource-constrained systems."}),"\n",(0,i.jsx)(n.h2,{id:"the-need-for-middleware-in-robotics",children:"The Need for Middleware in Robotics"}),"\n",(0,i.jsx)(n.p,{children:"Robotics systems typically involve multiple components working together:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Sensors (cameras, LIDAR, IMUs, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Actuators (motors, grippers, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Processors running various algorithms (perception, planning, control)"}),"\n",(0,i.jsx)(n.li,{children:"Communication systems"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Without middleware like ROS, developers would need to write custom communication protocols between all these components, leading to complex, hard-to-maintain code."}),"\n",(0,i.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 is built on top of DDS (Data Distribution Service), a communications middleware that provides a publish-subscribe pattern for data sharing. The key architectural components are:"}),"\n",(0,i.jsx)(n.p,{children:"Below is a textual representation of the ROS 2 architecture:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"# ROS 2 Architecture Diagram\r\n\r\n## Components Overview:\r\n- Nodes: Computational processes (circles)\r\n- Topics: Communication channels (rectangles)\r\n- Message Flow: Arrowed lines showing data flow\r\n\r\n## Architecture:\r\n[Node A] ---------\x3e [Topic 1] ---------\x3e [Node B]\r\n                    (messages)\r\n\r\n[Node C] ---------\x3e [Topic 2] ---------\x3e [Node D]\r\n    |                                    |\r\n    |<---------- Service Call ----------- |\r\n(Service: Request/Response Pattern)\r\n\r\n## Key Elements:\r\n1. Nodes communicate via Topics using Publish/Subscribe\r\n2. Nodes communicate via Services using Request/Response\r\n3. Communication is managed via DDS (Data Distribution Service)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Figure 1: ROS 2 Architecture showing nodes, topics, and the DDS communication layer."})}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsx)(n.p,{children:"Nodes are the fundamental unit of execution in ROS 2. They are processes that perform computation and communicate with other nodes through messages."}),"\n",(0,i.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,i.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. A publisher node sends messages to a topic, and subscriber nodes receive messages from a topic."}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsx)(n.p,{children:"Services provide a request-response communication pattern. A client sends a request to a service and waits for a response."}),"\n",(0,i.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(n.p,{children:"Actions provide a more advanced request-response pattern that can take a long time to complete and provides feedback during execution."}),"\n",(0,i.jsx)(n.h2,{id:"key-features-of-ros-2",children:"Key Features of ROS 2"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time support"}),": For applications requiring deterministic behavior"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security"}),": Built-in authentication, encryption, and access control"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Improved communication"}),": Based on DDS for reliable message delivery"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cross-platform"}),": Runs on Linux, Windows, and macOS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Container-friendly"}),": Designed to work well with containers like Docker"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"hands-on-exercise",children:"Hands-On Exercise"}),"\n",(0,i.jsx)(n.p,{children:"Create a simple ROS 2 workspace and run the basic tutorials:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a new workspace directory"}),"\n",(0,i.jsx)(n.li,{children:"Source your ROS 2 installation"}),"\n",(0,i.jsxs)(n.li,{children:["Create a package for your examples:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_robot_tutorial\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Add the publisher code to ",(0,i.jsx)(n.code,{children:"my_robot_tutorial/my_robot_tutorial/publisher_member_function.py"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    minimal_publisher = MinimalPublisher()\r\n\r\n    rclpy.spin(minimal_publisher)\r\n\r\n    # Destroy the node explicitly\r\n    # (optional - otherwise it will be done automatically\r\n    # when the garbage collector destroys the node object)\r\n    minimal_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["Add the subscriber code to ",(0,i.jsx)(n.code,{children:"my_robot_tutorial/my_robot_tutorial/subscriber_member_function.py"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalSubscriber(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    rclpy.spin(minimal_subscriber)\r\n\r\n    # Destroy the node explicitly\r\n    minimal_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run the publisher and subscriber in separate terminals:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_tutorial publisher_member_function\r\nros2 run my_robot_tutorial subscriber_member_function\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Observe the communication between nodes, noting how messages are published and received."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides the foundational middleware that allows different components of a robot system to communicate effectively. Understanding its architecture is crucial for building complex robotic systems."}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Conceptual Understanding"}),": Explain the difference between nodes, topics, and services in your own words. When would you use each?"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Practical Exercise"}),": Create a simple ROS 2 package with a publisher that sends messages at a different frequency (e.g., every 2 seconds instead of every 0.5 seconds). How does changing the frequency affect the communication?"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Research Task"}),": Investigate other middleware solutions used in robotics (e.g., ROS 1, YARP, OROCOS) and compare their features with ROS 2."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Challenge Problem"}),": Design a simple robot system with 3 nodes (sensor, controller, actuator) and specify how they would communicate using ROS 2 concepts. What topics, services, or actions would you use?"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"self-assessment",children:"Self-Assessment"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"What is the role of middleware in robotics?"}),"\n",(0,i.jsx)(n.li,{children:"What is the difference between topics and services?"}),"\n",(0,i.jsx)(n.li,{children:"Why was ROS 2 developed as an evolution of ROS 1?"}),"\n",(0,i.jsx)(n.li,{children:"What is DDS and how does it relate to ROS 2?"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(6540);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);